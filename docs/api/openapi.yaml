openapi: 3.0.0
info:
  title: 'Yii2 Book Catalog API'
  description: 'Modern Yii2 Book Catalog API Documentation'
  version: 1.0.0
servers:
  -
    url: 'http://localhost:8000'
    description: 'Local Development Server'
paths:
  /api/books:
    get:
      tags:
        - 'API Books'
      summary: 'List all books (JSON)'
      operationId: 2859aba8f08f99c987cf0ba4e030c7fe
      parameters:
        -
          name: page
          in: query
          schema:
            type: integer
        -
          name: pageSize
          in: query
          schema:
            type: integer
      responses:
        '200':
          description: 'JSON List of books'
          content:
            application/json:
              schema:
                properties:
                  items: { type: array, items: { $ref: '#/components/schemas/Book' } }
                  _meta: { $ref: '#/components/schemas/PaginationMeta' }
                type: object
components:
  schemas:
    Book:
      title: Book
      description: Книга
      properties:
        id:
          type: integer
          example: 1
        title:
          type: string
          example: 'Чистый код'
        year:
          type: integer
          example: 2008
          nullable: true
        description:
          type: string
          example: 'Руководство по созданию качественного кода'
          nullable: true
        isbn:
          type: string
          example: 978-0-13-235088-4
        authorIds:
          type: array
          items:
            type: integer
          example:
            - 1
        authorNames:
          type: object
          example:
            '1': 'Роберт Мартин'
          additionalProperties:
            type: string
        coverUrl:
          type: string
          example: /uploads/covers/clean-code.jpg
          nullable: true
      type: object
    PaginationMeta:
      title: 'Pagination Meta'
      description: 'Метаданные пагинации'
      properties:
        totalCount:
          type: integer
          example: 100
        pageCount:
          type: integer
          example: 10
        currentPage:
          type: integer
          example: 1
        perPage:
          type: integer
          example: 10
      type: object
tags:
  -
    name: 'API Books'
    description: 'REST API for Books'
