---
name: retro
description: Ретроспектива сессии - анализ блокеров, потерь контекста, повторов и предложения по улучшению workflow.
---

# Скилл: RETRO

## Обзор

Ретроспектива текущей сессии работы. Цель - честно зафиксировать где застряли, что пошло не так, какие паттерны ошибок повторяются. Результат - конкретные предложения по улучшению контракта, skills и workflow.

## 1. Загрузка контекста

Молча прочитай `docs/ai/contract.md` - это текущие правила, которые можно улучшить.

## 2. Анализ сессии

Пройдись по всей истории диалога и зафиксируй:

### Блокеры

Моменты где работа остановилась:

- **Непонимание задачи** - пришлось переспрашивать или переделывать
- **Технические затыки** - ошибки `make dev`/`make test`, которые долго чинились
- **Потеря контекста** - забыл что обсуждали, повторное чтение файлов
- **Неверные предположения** - сделал не то, потому что додумал за пользователя
- **Галлюцинации** - вызвал несуществующий метод/API, пришлось откатывать

### Потери времени

Действия которые можно было не делать или сделать быстрее:

- **Лишние раунды** - сколько раз переделывал одно и то же
- **Избыточные вопросы** - спросил то, что мог выяснить сам
- **Ненужная работа** - написал код который потом удалили
- **Долгая отладка** - баг который можно было предотвратить

### Что сработало хорошо

Паттерны которые стоит закрепить:

- Удачные решения, подходы, порядок действий
- Моменты где workflow реально помог

## 3. Формирование отчета

Создай файл `docs/retro/{YYYY-MM-DD}.md`:

```markdown
# Ретроспектива {YYYY-MM-DD}

## Задачи сессии

- #{ID} — [краткое описание] — [статус: сделано/в процессе/заблокировано]

## Блокеры

| Момент | Причина | Потеря (минуты/раунды) |
|--------|---------|------------------------|
| [что случилось] | [почему] | [сколько потеряли] |

## Повторяющиеся паттерны

- [паттерн 1 — если встречался раньше]
- [паттерн 2]

## Что сработало

- [удачный момент 1]
- [удачный момент 2]

## Предложения

### Обновить контракт

- [ ] [конкретное изменение в contract.md и почему]

### Обновить skills

- [ ] [конкретное изменение в skill и почему]

### Новые правила

- [ ] [новое правило которого не хватало]
```

## 4. Применение

После создания отчета спроси пользователя:

**"Какие из предложений применить?"**

- Если пользователь выбрал — внеси изменения в соответствующие файлы (`contract.md`, skills).
- Если нет — отчет остается как есть, для истории.

## ПРАВИЛА

- Язык: СТРОГО РУССКИЙ.
- **Честность** — не приукрашивай. Если облажался — так и пиши.
- **Конкретика** — не "были сложности", а "3 раза переделал валидацию формы потому что не спросил про обязательные поля".
- **Метрики** — считай раунды переделок, количество ошибок `make dev`, количество откатов.
- **Без оправданий** — факты и предложения, не объяснения почему так вышло.
- **Actionable** — каждое предложение должно быть конкретным изменением в конкретном файле.
- НЕ коммить, не пушь — только анализ и отчет.
